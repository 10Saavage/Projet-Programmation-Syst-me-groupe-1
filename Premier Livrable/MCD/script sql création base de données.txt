/*------------------------------------------------------------
*        Script SQLSERVER 
------------------------------------------------------------*/


/*------------------------------------------------------------
-- Table: Materiel
------------------------------------------------------------*/
CREATE TABLE Materiel(
	id         INT IDENTITY (1,1) NOT NULL ,
	nom        VARCHAR (50) NOT NULL ,
	quantite   INT  NOT NULL  ,
	CONSTRAINT Materiel_PK PRIMARY KEY (id)
);


/*------------------------------------------------------------
-- Table: Recette
------------------------------------------------------------*/
CREATE TABLE Recette(
	id            INT IDENTITY (1,1) NOT NULL ,
	nom           VARCHAR (50) NOT NULL ,
	prix          INT  NOT NULL ,
	preparation   INT  NOT NULL ,
	categorie     VARCHAR (50) NOT NULL  ,
	CONSTRAINT Recette_PK PRIMARY KEY (id)
);


/*------------------------------------------------------------
-- Table: Commande
------------------------------------------------------------*/
CREATE TABLE Commande(
	id             INT IDENTITY (1,1) NOT NULL ,
	prix_recette   VARCHAR (50) NOT NULL  ,
	CONSTRAINT Commande_PK PRIMARY KEY (id)
);


/*------------------------------------------------------------
-- Table: ingredient_Recette
------------------------------------------------------------*/
CREATE TABLE ingredient_Recette(
	id           INT IDENTITY (1,1) NOT NULL ,
	quantite     VARCHAR (50) NOT NULL ,
	id_Recette   INT  NOT NULL  ,
	CONSTRAINT ingredient_Recette_PK PRIMARY KEY (id)

	,CONSTRAINT ingredient_Recette_Recette_FK FOREIGN KEY (id_Recette) REFERENCES Recette(id)
);


/*------------------------------------------------------------
-- Table: stock_ingredients
------------------------------------------------------------*/
CREATE TABLE stock_ingredients(
	id      INT IDENTITY (1,1) NOT NULL ,
	nom     VARCHAR (50) NOT NULL ,
	stock   INT  NOT NULL  ,
	CONSTRAINT stock_ingredients_PK PRIMARY KEY (id)
);


/*------------------------------------------------------------
-- Table: Reservation_table
------------------------------------------------------------*/
CREATE TABLE Reservation_table(
	id               INT IDENTITY (1,1) NOT NULL ,
	nomReservation   VARCHAR (50) NOT NULL ,
	nbrPersonnes     INT  NOT NULL ,
	Horaire          INT  NOT NULL  ,
	CONSTRAINT Reservation_table_PK PRIMARY KEY (id)
);


/*------------------------------------------------------------
-- Table: avoir
------------------------------------------------------------*/
CREATE TABLE avoir(
	id            INT  NOT NULL ,
	id_Commande   INT  NOT NULL  ,
	CONSTRAINT avoir_PK PRIMARY KEY (id,id_Commande)

	,CONSTRAINT avoir_Recette_FK FOREIGN KEY (id) REFERENCES Recette(id)
	,CONSTRAINT avoir_Commande0_FK FOREIGN KEY (id_Commande) REFERENCES Commande(id)
);



